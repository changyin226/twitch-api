(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Clip"],{"0881":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.clip.broadcast_id?e("div",{staticClass:"clip-page",style:{top:t.navHeight+"px"}},[e("iframe",{attrs:{src:t.clip.embed_url+"&parent=changyin226.github.io&autoplay=true",width:"100%",height:"100%",allowfullscreen:"true"}}),e("div",{staticClass:"clip-info"},[e("div",{staticClass:"user"},[e("div",{staticClass:"user-logo"},[e("router-link",{attrs:{to:{name:"Stream",params:{name:t.clip.broadcaster.name}}}},[e("img",{attrs:{src:t.clip.broadcaster.logo,alt:"實況主logo"}})]),t.isLive?e("span",[t._v("LIVE")]):t._e()],1),e("div",{staticClass:"user-info"},[e("h2",[e("router-link",{attrs:{to:{name:"Stream",params:{name:t.clip.broadcaster.name}}}},[t._v(" "+t._s(t.clip.broadcaster.display_name)+" ")]),t.isPartner?e("i",{staticClass:"fa fa-check"}):t._e()],1),t.isLive?e("p",[t._v(" 正在實況 ")]):e("P",[t._v(" 關台休息中 ")])],1)]),e("div",{staticClass:"info"},[e("h3",[t._v(t._s(t.clip.title))]),e("router-link",{attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[t._v(" "+t._s(t.clip.game)+" ")]),e("span",[t._v("clipped by "+t._s(t.clip.curator.display_name))])],1),e("div",{staticClass:"views"},[t.clip.vod?e("a",{attrs:{href:t.clip.vod.url,target:"_blank"}},[t._v("觀看完整影片")]):t._e(),e("i",{staticClass:"fa fa-eye"}),e("span",[t._v(t._s(t.views))])])])]):t._e()},n=[],r=(e("ac1f"),e("5319"),e("d3b7"),e("25f0"),{props:{slug:{type:String,required:!0}},data:function(){return{clip:{},isLive:!1,isPartner:!1}},computed:{views:function(){return this.clip.views.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},gameName:function(){return encodeURIComponent(this.clip.game)},navHeight:function(){return this.$store.state.navHeight}},mounted:function(){this.getClip()},methods:{getClip:function(){var t=this;this.$store.commit("LOADING");var a="https://api.twitch.tv/kraken/clips/".concat(this.slug);this.$http.get(a,{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(a){return t.clip=a.data,t.axios.all([t.getChannelInfo(),t.getStream()])})).then((function(a){t.isPartner=a[0].data.partner,null!==a[1].data.stream&&(t.isLive=!0),t.$store.commit("LOADING")})).catch((function(a){t.$store.commit("LOADING"),t.$swal(a.message)}))},getChannelInfo:function(){var t="https://api.twitch.tv/kraken/channels/".concat(this.clip.broadcaster.id);return this.$http.get(t,{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})},getStream:function(){var t="https://api.twitch.tv/kraken/streams/".concat(this.clip.broadcaster.id);return this.$http.get(t,{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})}}}),s=r,c=(e("b514"),e("2877")),l=Object(c["a"])(s,i,n,!1,null,null,null);a["default"]=l.exports},"0cb2":function(t,a,e){var i=e("7b0b"),n=Math.floor,r="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,a,e,l,o,u){var p=e+t.length,v=l.length,d=c;return void 0!==o&&(o=i(o),d=s),r.call(u,d,(function(i,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,e);case"'":return a.slice(p);case"<":s=o[r.slice(1,-1)];break;default:var c=+r;if(0===c)return i;if(c>v){var u=n(c/10);return 0===u?i:u<=v?void 0===l[u-1]?r.charAt(1):l[u-1]+r.charAt(1):i}s=l[c-1]}return void 0===s?"":s}))}},"25f0":function(t,a,e){"use strict";var i=e("6eeb"),n=e("825a"),r=e("d039"),s=e("ad6d"),c="toString",l=RegExp.prototype,o=l[c],u=r((function(){return"/a/b"!=o.call({source:"a",flags:"b"})})),p=o.name!=c;(u||p)&&i(RegExp.prototype,c,(function(){var t=n(this),a=String(t.source),e=t.flags,i=String(void 0===e&&t instanceof RegExp&&!("flags"in l)?s.call(t):e);return"/"+a+"/"+i}),{unsafe:!0})},2994:function(t,a,e){},5319:function(t,a,e){"use strict";var i=e("d784"),n=e("825a"),r=e("50c4"),s=e("a691"),c=e("1d80"),l=e("8aa5"),o=e("0cb2"),u=e("14c3"),p=Math.max,v=Math.min,d=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,a,e,i){var h=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=i.REPLACE_KEEPS_$0,g=h?"$":"$0";return[function(e,i){var n=c(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n,i):a.call(String(n),e,i)},function(t,i){if(!h&&f||"string"===typeof i&&-1===i.indexOf(g)){var c=e(a,t,this,i);if(c.done)return c.value}var m=n(t),b=String(this),_="function"===typeof i;_||(i=String(i));var w=m.global;if(w){var C=m.unicode;m.lastIndex=0}var S=[];while(1){var $=u(m,b);if(null===$)break;if(S.push($),!w)break;var k=String($[0]);""===k&&(m.lastIndex=l(b,r(m.lastIndex),C))}for(var y="",E=0,I=0;I<S.length;I++){$=S[I];for(var x=String($[0]),A=p(v(s($.index),b.length),0),L=[],P=1;P<$.length;P++)L.push(d($[P]));var R=$.groups;if(_){var N=[x].concat(L,A,b);void 0!==R&&N.push(R);var D=String(i.apply(void 0,N))}else D=o(x,b,A,L,R,i);A>=E&&(y+=b.slice(E,A)+D,E=A+x.length)}return y+b.slice(E)}]}))},"8aa5":function(t,a,e){"use strict";var i=e("6547").charAt;t.exports=function(t,a,e){return a+(e?i(t,a).length:1)}},b514:function(t,a,e){"use strict";e("2994")}}]);
//# sourceMappingURL=Clip.86a8d00a.js.map