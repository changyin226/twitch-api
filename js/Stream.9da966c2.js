(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Stream"],{5475:function(t,e,a){},"6cc2":function(t,e,a){"use strict";a("5475")},7057:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user.id?a("div",{staticClass:"stream-page",style:{top:t.navHeight+"px"}},[a("div",{staticClass:"stream"},[a("iframe",{attrs:{src:"https://player.twitch.tv/?channel="+t.name+"&parent=changyin226.github.io",allowfullscreen:"true",width:"100%",height:"100%"}}),a("div",{staticClass:"mx-30"},[a("div",{staticClass:"stream-info"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.user.profile_image_url,alt:"實況主logo"}}),t.isLive?a("span",[t._v("LIVE")]):t._e()]),a("div",{staticClass:"info"},[a("h2",[t._v(" "+t._s(t.user.display_name)+" "),t.isPartner?a("i",{staticClass:"fa fa-check"}):t._e()]),t.isLive?a("h3",[t._v(" "+t._s(t.stream.title)+" ")]):a("h3",[t._v(" 該實況主目前尚未開台 ")]),a("div",{staticClass:"info-datail"},[t.isLive&&t.stream.game_name?a("router-link",{attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[t._v(" "+t._s(t.stream.game_name)+" ")]):t._e(),t.team.id?a("p",[t._v(" 團隊： "),a("router-link",{attrs:{to:{name:"Team",params:{name:t.team.team_name}}}},[t._v(" "+t._s(t.team.team_display_name)+" ")])],1):t._e(),t._l(t.tags,(function(e){return a("span",{key:e,staticClass:"tag"},[t._v(t._s(e))])}))],2)]),t.isLive?a("div",{staticClass:"viewers"},[a("p",[a("i",{staticClass:"fa fa-user-o"}),t._v(" "+t._s(t.viewers)+" ")])]):t._e()]),a("div",{staticClass:"desc"},[a("h4",[t._v("關於 "+t._s(t.user.display_name))]),a("span",[t._v(t._s(t.followers)+" 位追隨者")]),a("p",[t._v(t._s(t.user.description))])])])]),a("div",{staticClass:"chat"},[a("iframe",{key:t.theme,attrs:{id:"twitch-chat-embed",src:"https://www.twitch.tv/embed/"+t.name+"/chat?parent=changyin226.github.io&"+t.theme,width:"100%",height:"100%"}})])]):t._e()},i=[],r=a("3835"),n=(a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b680"),a("159b"),a("caad"),a("b0c0"),{props:{name:{type:String,required:!0}},data:function(){return{stream:{},user:{},team:{},follows:0,tags:[]}},computed:{theme:function(){var t=this.$store.state.isDarkMode;return t?"darkpopout":"popout"},viewers:function(){return this.stream.viewer_count.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},followers:function(){var t=this.follows,e=t/1e4;return e=e.toFixed(1),e>=1&&e%1===0?(e=parseInt(e,10),e+="萬",e):e>1?(e+="萬",e):t.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},isLive:function(){return!!this.stream},isPartner:function(){return"partner"===this.user.broadcaster_type},gameName:function(){return encodeURIComponent(this.stream.game_name)},navHeight:function(){return this.$store.state.navHeight}},mounted:function(){var t=this;this.$store.commit("LOADING"),this.axios.all([this.getStream(),this.getUser()]).then((function(e){var a=Object(r["a"])(e[0].data.data,1);t.stream=a[0];var s=Object(r["a"])(e[1].data.data,1);return t.user=s[0],t.axios.all([t.getTeam(),t.getFollows(),t.getTags()])})).then((function(e){if(null!==e[0].data.data){var a=Object(r["a"])(e[0].data.data,1);t.team=a[0]}t.follows=e[1].data.total;var s=[];e[2].data.data.forEach((function(t){s.includes(t.localization_names["zh-tw"])||s.push(t.localization_names["zh-tw"])})),t.tags=s,t.$store.commit("LOADING")})).catch((function(e){t.$store.commit("LOADING"),t.$swal(e.response.data.message)}))},methods:{getStream:function(){var t="https://api.twitch.tv/helix/streams?user_login=".concat(this.name);return this.$http.get(t,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})},getUser:function(){var t="https://api.twitch.tv/helix/users?login=".concat(this.name);return this.$http.get(t,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})},getTeam:function(){var t="https://api.twitch.tv/helix/teams/channel?broadcaster_id=".concat(this.user.id);return this.$http.get(t,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})},getFollows:function(){var t="https://api.twitch.tv/helix/users/follows?to_id=".concat(this.user.id);return this.$http.get(t,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})},getTags:function(){var t="https://api.twitch.tv/helix/streams/tags?broadcaster_id=".concat(this.user.id);return this.$http.get(t,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}})}}}),o=n,c=(a("6cc2"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=Stream.9da966c2.js.map