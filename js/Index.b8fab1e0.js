(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Index"],{"03e6":function(t,e,r){},"0cb2":function(t,e,r){var a=r("7b0b"),n=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,c,u,l){var m=r+t.length,f=c.length,d=o;return void 0!==u&&(u=a(u),d=s),i.call(l,d,(function(a,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(m);case"<":s=u[i.slice(1,-1)];break;default:var o=+i;if(0===o)return a;if(o>f){var l=n(o/10);return 0===l?a:l<=f?void 0===c[l-1]?i.charAt(1):c[l-1]+i.charAt(1):a}s=c[o-1]}return void 0===s?"":s}))}},1148:function(t,e,r){"use strict";var a=r("a691"),n=r("1d80");t.exports=function(t){var e=String(n(this)),r="",i=a(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),i=r("17c2"),s=r("9112");for(var o in n){var c=a[o],u=c&&c.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("a640"),i=n("forEach");t.exports=i?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"21bb":function(t,e,r){"use strict";r("2dad")},2532:function(t,e,r){"use strict";var a=r("23e7"),n=r("5a34"),i=r("1d80"),s=r("ab13");a({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(i(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,r){"use strict";var a=r("6eeb"),n=r("825a"),i=r("d039"),s=r("ad6d"),o="toString",c=RegExp.prototype,u=c[o],l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),m=u.name!=o;(l||m)&&a(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),r=t.flags,a=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?s.call(t):r);return"/"+e+"/"+a}),{unsafe:!0})},"2dad":function(t,e,r){},"356e":function(t,e,r){},"408a":function(t,e,r){var a=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},4315:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.stream.user_name?r("div",{staticClass:"stream-card-component"},[r("router-link",{staticClass:"preview",attrs:{custom:"",to:{name:"Stream",params:{name:t.stream.user_login}}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.navigate;return[r("div",{on:{click:a}},[r("img",{attrs:{src:t.imgUrl,alt:"遊戲截圖"},on:{load:function(e){t.imgShow=!0}}}),t.imgShow?r("div",[r("span",{staticClass:"viewers"},[t._v("觀眾人數："+t._s(t.viewers))]),r("span",{staticClass:"live"},[t._v(t._s(t.stream.type.toUpperCase()))])]):t._e()])]}}],null,!1,1132532835)}),r("div",{staticClass:"user-info"},[r("div",{staticClass:"logo"},[t.stream.logoUrl?r("img",{attrs:{src:t.stream.logoUrl,alt:"實況主照片"}}):t._e()]),r("div",{staticClass:"info"},[r("h4",[r("router-link",{attrs:{to:{name:"Stream",params:{name:t.stream.user_login}}}},[t._v(" "+t._s(t.stream.title)+" ")])],1),r("h3",[r("router-link",{attrs:{to:{name:"Stream",params:{name:t.stream.user_login}}}},[t._v(" "+t._s(t.stream.user_name)+" ("+t._s(t.stream.user_login)+") ")])],1),"AllStream"===t.routeName&&t.stream.game_name?r("h5",[r("router-link",{attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[t._v(" "+t._s(t.stream.game_name)+" ")])],1):t._e(),t._l(t.stream.tags,(function(e){return r("span",{key:e,staticClass:"tag"},[t._v(t._s(e))])})),t.stream.tags?t._e():r("span",{staticStyle:{height:"18px",display:"block"}})],2)])],1):r("StreamCardLoading",{attrs:{"route-name":t.routeName}})},n=[],i=(r("ac1f"),r("5319"),r("b680"),r("d3b7"),r("25f0"),r("4f2d")),s={components:{StreamCardLoading:i["a"]},props:{stream:{type:Object,required:!0},routeName:{type:String,required:!0}},data:function(){return{imgShow:!1}},computed:{imgUrl:function(){return this.stream.thumbnail_url.replace("{width}x{height}","440x248")},viewers:function(){var t=this.stream.viewer_count,e=t/1e4;return e=e.toFixed(1),e>=1&&e%1===0?(e=parseInt(e,10),e+="萬",e):e>1?(e+="萬",e):t.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},gameName:function(){return encodeURIComponent(this.stream.game_name)}}},o=s,c=(r("c469"),r("2877")),u=Object(c["a"])(o,a,n,!1,null,null,null);e["a"]=u.exports},"44e7":function(t,e,r){var a=r("861d"),n=r("c6b6"),i=r("b622"),s=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"4c2e":function(t,e,r){},"4de4":function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").filter,i=r("1dde"),s=i("filter");a({target:"Array",proto:!0,forced:!s},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f2d":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"stream-card-loading-component"},[r("img",{attrs:{src:t.imgUrl,alt:"Loading圖"}}),r("div",{staticClass:"user-info"},[r("p",{staticClass:"img"}),r("div",{staticClass:"info"},[r("p",{staticClass:"title"}),r("p",{staticClass:"name"}),"AllStream"===t.routeName?r("p",{staticClass:"game"}):t._e(),r("p",{staticClass:"tags"})])])])},n=[],i={props:{routeName:{type:String,required:!0}},computed:{imgUrl:function(){var t=this.$store.state.isDarkMode;return t?"https://dummyimage.com/320x180/222227/222227.jpg&text=+":"https://dummyimage.com/320x180/dfdfea/dfdfea.jpg&text=+"}}},s=i,o=(r("9240"),r("2877")),c=Object(o["a"])(s,a,n,!1,null,null,null);e["a"]=c.exports},5319:function(t,e,r){"use strict";var a=r("d784"),n=r("825a"),i=r("50c4"),s=r("a691"),o=r("1d80"),c=r("8aa5"),u=r("0cb2"),l=r("14c3"),m=Math.max,f=Math.min,d=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,r,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=a.REPLACE_KEEPS_$0,p=g?"$":"$0";return[function(r,a){var n=o(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n,a):e.call(String(n),r,a)},function(t,a){if(!g&&h||"string"===typeof a&&-1===a.indexOf(p)){var o=r(e,t,this,a);if(o.done)return o.value}var v=n(t),b=String(this),_="function"===typeof a;_||(a=String(a));var y=v.global;if(y){var x=v.unicode;v.lastIndex=0}var w=[];while(1){var C=l(v,b);if(null===C)break;if(w.push(C),!y)break;var S=String(C[0]);""===S&&(v.lastIndex=c(b,i(v.lastIndex),x))}for(var N="",$=0,I=0;I<w.length;I++){C=w[I];for(var E=String(C[0]),L=m(f(s(C.index),b.length),0),k=[],A=1;A<C.length;A++)k.push(d(C[A]));var j=C.groups;if(_){var D=[E].concat(k,L,b);void 0!==j&&D.push(j);var G=String(a.apply(void 0,D))}else G=u(E,b,L,k,j,a);L>=$&&(N+=b.slice($,L)+G,$=L+E.length)}return N+b.slice($)}]}))},"5a34":function(t,e,r){var a=r("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"68c7":function(t,e,r){},"89c2":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"all-stream-page"},[r("div",{staticClass:"filter"},[r("span",[t._v("篩選依據")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lang=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"all"}},[t._v(" 全部語言 ")]),r("option",{attrs:{value:"zh"}},[t._v(" 中文 ")])])]),r("div",{staticClass:"all-stream-list"},t._l(t.streamList,(function(e,a){return r("StreamCard",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:a+1===t.listNum&&t.observing,callback:t.onWaypoint},expression:"{ active: (i + 1) === listNum && observing, callback: onWaypoint }"}],key:e.user_id,attrs:{stream:e,"route-name":t.routeName}})})),1)])},n=[],i=(r("99af"),r("a434"),r("4de4"),r("caad"),r("2532"),r("159b"),r("4315")),s={components:{StreamCard:i["a"]},props:{routeName:{type:String,required:!0}},data:function(){return{streamList:[],streamID:[],cursor:"",observing:!1,length:0}},computed:{lang:{get:function(){return this.$store.state.lang},set:function(t){this.$store.commit("LANG",t),Object.assign(this.$data,this.$options.data.call(this)),this.getAllStream(!0),localStorage.setItem("lang",JSON.stringify(t))}},listNum:function(){return this.streamList.length}},mounted:function(){this.getAllStream(!0)},methods:{getAllStream:function(t){var e=this;if(void 0!==this.cursor){t&&this.$store.commit("LOADING"),this.streamList.push({},{},{},{},{});var r="https://api.twitch.tv/helix/streams?first=25&language=".concat(this.lang,"&after=").concat(this.cursor);"all"===this.lang&&(r="https://api.twitch.tv/helix/streams?first=25&after=".concat(this.cursor)),this.$http.get(r,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(r){setTimeout((function(){e.cursor=r.data.pagination.cursor,e.streamList.splice(e.listNum-5),e.length=e.listNum;var a=r.data.data.filter((function(t){return!e.streamID.includes(t.user_id)}));a.forEach((function(t){e.streamID.push(t.user_id),e.streamList.push(t)}));for(var n=e.length;n<e.streamID.length;n+=1)e.getUserLogo(e.streamID[n],n),e.getTags(e.streamID[n],n);t&&e.$store.commit("LOADING"),e.observing=!0}),500)})).catch((function(r){e.streamList.splice(e.listNum-5),t&&e.$store.commit("LOADING"),e.$swal(r.response.data.message)}))}},getUserLogo:function(t,e){var r=this,a="https://api.twitch.tv/helix/users?id=".concat(t);this.$http.get(a,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(t){r.$set(r.streamList[e],"logoUrl",t.data.data[0].profile_image_url)}))},getTags:function(t,e){var r=this,a="https://api.twitch.tv/helix/streams/tags?broadcaster_id=".concat(t);this.$http.get(a,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(t){var a=t.data.data,n=[];a.length&&(a.splice(3),a.forEach((function(t){n.includes(t.localization_names["zh-tw"])||n.push(t.localization_names["zh-tw"])}))),r.$set(r.streamList[e],"tags",n)}))},onWaypoint:function(t){var e=t.going;e===this.$waypointMap.GOING_IN&&(this.observing=!1,this.getAllStream(!1))}}},o=s,c=(r("eb9e"),r("2877")),u=Object(c["a"])(o,a,n,!1,null,null,null);e["default"]=u.exports},"8aa5":function(t,e,r){"use strict";var a=r("6547").charAt;t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}},9240:function(t,e,r){"use strict";r("c643")},9646:function(t,e,r){},"9ed4":function(t,e,r){"use strict";r("356e")},a03f:function(t,e,r){"use strict";r("9646")},a434:function(t,e,r){"use strict";var a=r("23e7"),n=r("23cb"),i=r("a691"),s=r("50c4"),o=r("7b0b"),c=r("65f0"),u=r("8418"),l=r("1dde"),m=l("splice"),f=Math.max,d=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var r,a,l,m,p,v,b=o(this),_=s(b.length),y=n(t,_),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=_-y):(r=x-2,a=d(f(i(e),0),_-y)),_+r-a>g)throw TypeError(h);for(l=c(b,a),m=0;m<a;m++)p=y+m,p in b&&u(l,m,b[p]);if(l.length=a,r<a){for(m=y;m<_-a;m++)p=m+a,v=m+r,p in b?b[v]=b[p]:delete b[v];for(m=_;m>_-a+r;m--)delete b[m-1]}else if(r>a)for(m=_-a;m>y;m--)p=m+a-1,v=m+r-1,p in b?b[v]=b[p]:delete b[v];for(m=0;m<r;m++)b[m+y]=arguments[m+2];return b.length=_-a+r,l}})},a640:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))}},a838:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"game-directory-page"},t._l(t.gameList,(function(e,a){return r("GameCard",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:a+1===t.listNum&&t.observing,callback:t.onWaypoint},expression:"{ active: (i + 1) === listNum && observing, callback: onWaypoint }"}],key:e.id,attrs:{game:e}})})),1)},n=[],i=(r("a434"),r("4de4"),r("caad"),r("2532"),r("159b"),r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.game.name?r("div",{staticClass:"game-card-component"},[r("router-link",{staticClass:"img-box",attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[r("img",{attrs:{src:t.imgUrl,alt:"遊戲圖片"}})]),r("div",{staticClass:"desc"},[r("h3",[r("router-link",{attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[t._v(" "+t._s(t.game.name)+" ")])],1),r("small",[t._v("觀眾人數："+t._s(t.viewersFilter))])])],1):r("GameCardLoading")}),s=[],o=(r("b680"),r("ac1f"),r("5319"),r("d3b7"),r("25f0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"game-card-loading-component"},[r("img",{attrs:{src:t.imgUrl,alt:"Loading圖"}}),r("p",{staticClass:"name"}),r("p",{staticClass:"viewers"})])}),c=[],u={computed:{imgUrl:function(){var t=this.$store.state.isDarkMode;return t?"https://dummyimage.com/285x380/222227/222227.jpg&text=+":"https://dummyimage.com/285x380/dfdfea/dfdfea.jpg&text=+"}}},l=u,m=(r("ef2e"),r("2877")),f=Object(m["a"])(l,o,c,!1,null,null,null),d=f.exports,g={components:{GameCardLoading:d},props:{game:{type:Object,required:!0}},data:function(){return{imgShow:!1}},computed:{viewersFilter:function(){var t=this.game.viewers;if(!t)return"";var e=t/1e4;return e=e.toFixed(1),e>=1&&e%1===0?(e=parseInt(e,10),e+="萬",e):e>1?(e+="萬",e):t.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},gameName:function(){return encodeURIComponent(this.game.name)},imgUrl:function(){return this.game.box_art_url.replace("{width}x{height}","285x380")}}},h=g,p=(r("a03f"),Object(m["a"])(h,i,s,!1,null,null,null)),v=p.exports,b={components:{GameCard:v},data:function(){return{gameList:[],gameID:[],cursor:"",observing:!1,length:0}},computed:{listNum:function(){return this.gameList.length}},mounted:function(){this.getGameDirectory(!0)},methods:{getGameDirectory:function(t){var e=this;if(void 0!==this.cursor){t&&this.$store.commit("LOADING"),this.gameList.push({},{},{},{},{});var r="https://api.twitch.tv/helix/games/top?first=25&after=".concat(this.cursor);this.$http.get(r,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(r){setTimeout((function(){e.cursor=r.data.pagination.cursor,e.gameList.splice(e.listNum-5),e.length=e.listNum;var a=r.data.data.filter((function(t){return!e.gameID.includes(t.id)}));a.forEach((function(t){e.gameID.push(t.id),e.gameList.push(t)}));for(var n=e.length;n<e.listNum;n+=1)e.getViewers(e.gameList[n].name,n);t&&e.$store.commit("LOADING"),e.observing=!0}),500)})).catch((function(r){e.gameList.splice(e.listNum-5),t&&e.$store.commit("LOADING"),e.$swal(r.response.data.message)}))}},getViewers:function(t,e){var r=this,a=encodeURIComponent(t.toLowerCase()),n=" https://api.twitch.tv/kraken/streams/summary?game=".concat(a);this.$http.get(n,{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(t){r.$set(r.gameList[e],"viewers",t.data.viewers)}))},onWaypoint:function(t){var e=t.going;e===this.$waypointMap.GOING_IN&&(this.observing=!1,this.getGameDirectory(!1))}}},_=b,y=(r("9ed4"),Object(m["a"])(_,a,n,!1,null,null,null));e["default"]=y.exports},ab13:function(t,e,r){var a=r("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},b680:function(t,e,r){"use strict";var a=r("23e7"),n=r("a691"),i=r("408a"),s=r("1148"),o=r("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,r){return 0===e?r:e%2===1?l(t,e-1,r*t):l(t*t,e/2,r)},m=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},f=function(t,e,r){var a=-1,n=r;while(++a<6)n+=e*t[a],t[a]=n%1e7,n=u(n/1e7)},d=function(t,e){var r=6,a=0;while(--r>=0)a+=t[r],t[r]=u(a/e),a=a%e*1e7},g=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var a=String(t[e]);r=""===r?a:r+s.call("0",7-a.length)+a}return r},h=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));a({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,r,a,o,c=i(this),u=n(t),h=[0,0,0,0,0,0],p="",v="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=m(c*l(2,69,1))-69,r=e<0?c*l(2,-e,1):c/l(2,e,1),r*=4503599627370496,e=52-e,e>0){f(h,0,r),a=u;while(a>=7)f(h,1e7,0),a-=7;f(h,l(10,a,1),0),a=e-1;while(a>=23)d(h,1<<23),a-=23;d(h,1<<a),f(h,1,1),d(h,2),v=g(h)}else f(h,0,r),f(h,1<<-e,0),v=g(h)+s.call("0",u);return u>0?(o=v.length,v=p+(o<=u?"0."+s.call("0",u-o)+v:v.slice(0,o-u)+"."+v.slice(o-u))):v=p+v,v}})},b727:function(t,e,r){var a=r("0366"),n=r("44ad"),i=r("7b0b"),s=r("50c4"),o=r("65f0"),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,m=6==t,f=7==t,d=5==t||m;return function(g,h,p,v){for(var b,_,y=i(g),x=n(y),w=a(h,p,3),C=s(x.length),S=0,N=v||o,$=e?N(g,C):r||f?N(g,0):void 0;C>S;S++)if((d||S in x)&&(b=x[S],_=w(b,S,y),t))if(e)$[S]=_;else if(_)switch(t){case 3:return!0;case 5:return b;case 6:return S;case 2:c.call($,b)}else switch(t){case 4:return!1;case 7:c.call($,b)}return m?-1:u||l?l:$}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},bb51:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-page"},[r("h2",[t._v("瀏覽")]),r("router-link",{staticClass:"btn",attrs:{to:"/directory"}},[t._v(" 分類 ")]),r("router-link",{staticClass:"btn",attrs:{to:"/directory/all"}},[t._v(" Live頻道 ")]),r("router-view")],1)},n=[],i=(r("21bb"),r("2877")),s={},o=Object(i["a"])(s,a,n,!1,null,null,null);e["default"]=o.exports},c469:function(t,e,r){"use strict";r("03e6")},c643:function(t,e,r){},caad:function(t,e,r){"use strict";var a=r("23e7"),n=r("4d64").includes,i=r("44d2");a({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},eb9e:function(t,e,r){"use strict";r("4c2e")},ef2e:function(t,e,r){"use strict";r("68c7")}}]);
//# sourceMappingURL=Index.b8fab1e0.js.map