(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Team"],{"0767":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.team._id?r("div",{staticClass:"team-page",style:{backgroundImage:"url("+t.team.background+")",height:"calc(100vh - "+t.navHeight+"px)"}},[r("div",{staticClass:"team"},[r("div",{staticClass:"team-info"},[r("div",{staticClass:"logo",style:{backgroundImage:"url("+t.team.logo+")"}}),r("div",{staticClass:"num"},[r("h2",[t._v(" 團隊成員 ")]),r("span",[t._v(t._s(t.team.users.length))])]),r("div",{staticClass:"list"},t._l(t.usersSort,(function(e){return r("TeamListCard",{key:e.name,attrs:{user:e,"screen-width":t.screenWidth},on:{"change-stream":function(e){t.streamName=e}}})})),1)]),t.screenWidth>=768?r("div",{staticClass:"team-stream"},[t.team.banner?r("img",{attrs:{src:t.team.banner,alt:"團隊banner"}}):t._e(),t.streamUrl?r("div",{staticClass:"stream"},[r("iframe",{key:t.streamName,attrs:{src:"https://player.twitch.tv/?channel="+t.streamUrl+"&parent=changyin226.github.io",allowfullscreen:"true",width:"100%",height:"100%"}})]):t._e()]):t._e()])]):t._e()},a=[],i=(r("4de4"),r("b0c0"),r("159b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"team-list-card-compontent",on:{click:t.clickHandler}},[r("img",{attrs:{src:t.user.logo,alt:"實況主logo"}}),r("h3",[t._v(t._s(t.user.display_name))]),t.user.viewers?r("div",{staticClass:"viewers"},[r("span",{staticClass:"dot"}),r("span",[t._v(t._s(t.viewers))])]):t._e()])}),s=[],c=(r("a9e3"),r("ac1f"),r("5319"),r("d3b7"),r("25f0"),{props:{user:{type:Object,required:!0},screenWidth:{type:Number,required:!0}},computed:{viewers:function(){return this.user.viewers.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}},methods:{clickHandler:function(){this.screenWidth>=768?this.$emit("change-stream",this.user.name):this.$router.push({name:"Stream",params:{name:this.user.name}})}}}),o=c,u=(r("c9c8"),r("2877")),l=Object(u["a"])(o,i,s,!1,null,null,null),f=l.exports,h={components:{TeamListCard:f},props:{name:{type:String,required:!0}},data:function(){return{team:{},users:[],streamName:"",screenWidth:0}},computed:{usersSort:function(){var t=Object.assign([],this.users),e=t.sort((function(t,e){return t.viewers<=e.viewers?1:-1}));return e.filter((function(t){return t}))},streamUrl:function(){return this.streamName?this.streamName:!this.streamName&&this.usersSort[0]?this.usersSort[0].name:""},navHeight:function(){return this.$store.state.navHeight}},mounted:function(){this.screenWidth=window.innerWidth,this.getTeam()},methods:{getTeam:function(){var t=this;this.$store.commit("LOADING");var e="https://api.twitch.tv/kraken/teams/".concat(this.name);this.$http.get(e,{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(e){t.team=e.data,t.team.users.forEach((function(e,r){t.getUserInfo(e.name,e.display_name,e.logo,r)})),t.$store.commit("LOADING")})).catch((function(e){t.$store.commit("LOADING"),t.$swal(e.message)}))},getUserInfo:function(t,e,r,n){var a=this,i="https://api.twitch.tv/helix/streams?user_login=".concat(t);this.$http.get(i,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(i){var s=i.data.data[0];if(s){var c={name:t,display_name:e,viewers:s.viewer_count,logo:r};a.$set(a.users,n,c)}else{var o={name:t,display_name:e,viewers:0,logo:r};a.$set(a.users,n,o)}})).catch((function(t){a.$swal(t.response.data.message)}))}}},d=h,v=(r("8869"),Object(u["a"])(d,n,a,!1,null,null,null));e["default"]=v.exports},"0cb2":function(t,e,r){var n=r("7b0b"),a=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,o,u,l){var f=r+t.length,h=o.length,d=c;return void 0!==u&&(u=n(u),d=s),i.call(l,d,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(f);case"<":s=u[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>h){var l=a(c/10);return 0===l?n:l<=h?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):n}s=o[c-1]}return void 0===s?"":s}))}},"159b":function(t,e,r){var n=r("da84"),a=r("fdbc"),i=r("17c2"),s=r("9112");for(var c in a){var o=n[c],u=o&&o.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,a=r("a640"),i=a("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2347:function(t,e,r){},"25f0":function(t,e,r){"use strict";var n=r("6eeb"),a=r("825a"),i=r("d039"),s=r("ad6d"),c="toString",o=RegExp.prototype,u=o[c],l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=c;(l||f)&&n(RegExp.prototype,c,(function(){var t=a(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in o)?s.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},"485c":function(t,e,r){},"4de4":function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").filter,i=r("1dde"),s=i("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,r){"use strict";var n=r("d784"),a=r("825a"),i=r("50c4"),s=r("a691"),c=r("1d80"),o=r("8aa5"),u=r("0cb2"),l=r("14c3"),f=Math.max,h=Math.min,d=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,p=v?"$":"$0";return[function(r,n){var a=c(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,n):e.call(String(a),r,n)},function(t,n){if(!v&&m||"string"===typeof n&&-1===n.indexOf(p)){var c=r(e,t,this,n);if(c.done)return c.value}var g=a(t),b=String(this),E="function"===typeof n;E||(n=String(n));var _=g.global;if(_){var w=g.unicode;g.lastIndex=0}var I=[];while(1){var y=l(g,b);if(null===y)break;if(I.push(y),!_)break;var N=String(y[0]);""===N&&(g.lastIndex=o(b,i(g.lastIndex),w))}for(var S="",$=0,x=0;x<I.length;x++){y=I[x];for(var A=String(y[0]),C=f(h(s(y.index),b.length),0),k=[],T=1;T<y.length;T++)k.push(d(y[T]));var O=y.groups;if(E){var R=[A].concat(k,C,b);void 0!==O&&R.push(O);var U=String(n.apply(void 0,R))}else U=u(A,b,C,k,O,n);C>=$&&(S+=b.slice($,C)+U,$=C+A.length)}return S+b.slice($)}]}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),a=r("5899"),i="["+a+"]",s=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),o=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(s,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(t,e,r){var n=r("861d"),a=r("d2bb");t.exports=function(t,e,r){var i,s;return a&&"function"==typeof(i=e.constructor)&&i!==r&&n(s=i.prototype)&&s!==r.prototype&&a(t,s),t}},8869:function(t,e,r){"use strict";r("485c")},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,r){"use strict";var n=r("83ab"),a=r("da84"),i=r("94ca"),s=r("6eeb"),c=r("5135"),o=r("c6b6"),u=r("7156"),l=r("c04e"),f=r("d039"),h=r("7c73"),d=r("241c").f,v=r("06cf").f,m=r("9bf2").f,p=r("58a8").trim,g="Number",b=a[g],E=b.prototype,_=o(h(E))==g,w=function(t){var e,r,n,a,i,s,c,o,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=p(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(i=u.slice(2),s=i.length,c=0;c<s;c++)if(o=i.charCodeAt(c),o<48||o>a)return NaN;return parseInt(i,n)}return+u};if(i(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var I,y=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof y&&(_?f((function(){E.valueOf.call(r)})):o(r)!=g)?u(new b(w(e)),r,y):w(e)},N=n?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;N.length>S;S++)c(b,I=N[S])&&!c(y,I)&&m(y,I,v(b,I));y.prototype=E,E.constructor=y,s(a,g,y)}},b727:function(t,e,r){var n=r("0366"),a=r("44ad"),i=r("7b0b"),s=r("50c4"),c=r("65f0"),o=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,f=6==t,h=7==t,d=5==t||f;return function(v,m,p,g){for(var b,E,_=i(v),w=a(_),I=n(m,p,3),y=s(w.length),N=0,S=g||c,$=e?S(v,y):r||h?S(v,0):void 0;y>N;N++)if((d||N in w)&&(b=w[N],E=I(b,N,_),t))if(e)$[N]=E;else if(E)switch(t){case 3:return!0;case 5:return b;case 6:return N;case 2:o.call($,b)}else switch(t){case 4:return!1;case 7:o.call($,b)}return f?-1:u||l?l:$}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},c9c8:function(t,e,r){"use strict";r("2347")}}]);
//# sourceMappingURL=Team.4c222047.js.map