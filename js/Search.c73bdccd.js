(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Search"],{"0642":function(t,e,n){"use strict";n("ea11")},"0cb2":function(t,e,n){var r=n("7b0b"),a=Math.floor,i="".replace,c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,o,u,l){var h=n+t.length,f=o.length,d=s;return void 0!==u&&(u=r(u),d=c),i.call(l,d,(function(r,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":c=u[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>f){var l=a(s/10);return 0===l?r:l<=f?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):r}c=o[s-1]}return void 0===c?"":c}))}},"0e3b":function(t,e,n){},"159b":function(t,e,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),c=n("9112");for(var s in a){var o=r[s],u=o&&o.prototype;if(u&&u.forEach!==i)try{c(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=a("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,n){"use strict";var r=n("23e7"),a=n("5a34"),i=n("1d80"),c=n("ab13");r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(i(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},2896:function(t,e,n){"use strict";n("2be8")},"2be8":function(t,e,n){},"2d3b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-page"},[n("h2",[t._v(" 搜尋: "+t._s(t.term)+" ")]),n("router-link",{staticClass:"btn",attrs:{to:{name:"SearchChannels",query:{term:t.term}}}},[t._v(" 頻道 ")]),n("router-link",{staticClass:"btn",attrs:{to:{name:"SearchCategories",query:{term:t.term}}}},[t._v(" 分類 ")]),n("router-view",{attrs:{term:t.term}})],1)},a=[],i={props:{term:{type:String,required:!0}}},c=i,s=(n("3de7"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,null,null);e["default"]=o.exports},"2db1":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-categories-page"},[!t.categoryList.length&&t.loadingSuccess?n("div",{staticClass:"notice"},[n("h3",[t._v("找不到相關資料")])]):n("div",{staticClass:"categories-list"},t._l(t.categoryList,(function(e,r){return n("SearchCategoryCard",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:r+1===t.listNum&&t.observing,callback:t.onWaypoint},expression:"{ active: (i + 1) === listNum && observing, callback: onWaypoint}"}],key:e.id,attrs:{category:e}})})),1)])},a=[],i=(n("99af"),n("4de4"),n("caad"),n("2532"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-category-card-component"},[n("router-link",{staticClass:"img-box",attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[n("img",{attrs:{src:t.imgUrl,alt:"遊戲圖片"}})]),n("h3",[n("router-link",{attrs:{to:{name:"GameStream",params:{name:t.gameName}}}},[t._v(" "+t._s(t.category.name)+" ")])],1)],1)}),c=[],s=(n("b0c0"),n("ac1f"),n("5319"),{props:{category:{type:Object,required:!0}},computed:{gameName:function(){return encodeURIComponent(this.category.name)},imgUrl:function(){return this.category.box_art_url.replace("52x72","285x380")}}}),o=s,u=(n("0642"),n("2877")),l=Object(u["a"])(o,i,c,!1,null,null,null),h=l.exports,f={components:{SearchCategoryCard:h},props:{term:{type:String,required:!0}},data:function(){return{categoryList:[],categoryID:[],cursor:"",observing:!1,loadingSuccess:!1}},computed:{listNum:function(){return this.categoryList.length}},beforeRouteUpdate:function(t,e,n){Object.assign(this.$data,this.$options.data.call(this)),this.getCategories(!0,t.query.term),n()},mounted:function(){this.$store.commit("SEARCH","categories"),this.getCategories(!0,this.term)},methods:{getCategories:function(t,e){var n=this;if(void 0!==this.cursor){t&&this.$store.commit("LOADING");var r="https://api.twitch.tv/helix/search/categories?query=".concat(e,"&first=25&after=").concat(this.cursor);this.$http.get(r,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(e){setTimeout((function(){n.cursor=e.data.pagination.cursor;var r=e.data.data.filter((function(t){return!n.categoryID.includes(t.id)}));r.forEach((function(t){n.categoryID.push(t.id),n.categoryList.push(t)})),t&&(n.loadingSuccess=!0,n.$store.commit("LOADING")),n.observing=!0}),500)})).catch((function(e){t&&n.$store.commit("LOADING"),n.$swal(e.response.data.message)}))}},onWaypoint:function(t){var e=t.going;e===this.$waypointMap.GOING_IN&&(this.observing=!1,this.getCategories(!1,this.term))}}},d=f,g=(n("381b"),Object(u["a"])(d,r,a,!1,null,null,null));e["default"]=g.exports},"381b":function(t,e,n){"use strict";n("b464")},"3de7":function(t,e,n){"use strict";n("c371")},"44e7":function(t,e,n){var r=n("861d"),a=n("c6b6"),i=n("b622"),c=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==a(t))}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").filter,i=n("1dde"),c=i("filter");r({target:"Array",proto:!0,forced:!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),i=n("50c4"),c=n("a691"),s=n("1d80"),o=n("8aa5"),u=n("0cb2"),l=n("14c3"),h=Math.max,f=Math.min,d=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(n,r){var a=s(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!g&&v||"string"===typeof r&&-1===r.indexOf(m)){var s=n(e,t,this,r);if(s.done)return s.value}var p=a(t),b=String(this),y="function"===typeof r;y||(r=String(r));var C=p.global;if(C){var _=p.unicode;p.lastIndex=0}var S=[];while(1){var $=l(p,b);if(null===$)break;if(S.push($),!C)break;var x=String($[0]);""===x&&(p.lastIndex=o(b,i(p.lastIndex),_))}for(var E="",w=0,I=0;I<S.length;I++){$=S[I];for(var N=String($[0]),O=h(f(c($.index),b.length),0),k=[],A=1;A<$.length;A++)k.push(d($[A]));var L=$.groups;if(y){var j=[N].concat(k,O,b);void 0!==L&&j.push(L);var q=String(r.apply(void 0,j))}else q=u(N,b,O,k,L,r);O>=w&&(E+=b.slice(w,O)+q,w=O+N.length)}return E+b.slice(w)}]}))},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"67ea":function(t,e,n){"use strict";n("0e3b")},"7a9f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-channels-page"},[!t.channelList.length&&t.loadingSuccess?n("div",{staticClass:"notice"},[n("h3",[t._v("找不到相關資料")])]):n("div",{staticClass:"channels-list"},t._l(t.channelList,(function(e,r){return n("SearchChannelCard",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:r+1===t.listNum&&t.observing,callback:t.onWaypoint},expression:"{ active: (i + 1) === listNum && observing, callback: onWaypoint}"}],key:e.id,attrs:{channel:e}})})),1)])},a=[],i=(n("99af"),n("4de4"),n("caad"),n("2532"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-channel-card-component"},[n("router-link",{staticClass:"logo",attrs:{to:{name:"Stream",params:{name:t.channel.broadcaster_login}}}},[n("img",{attrs:{src:t.channel.thumbnail_url,alt:"頻道照片"},on:{load:function(e){t.imgShow=!0}}}),t.channel.is_live&&t.imgShow?n("span",{staticClass:"live"},[t._v(" LIVE ")]):t._e()]),n("h3",[n("router-link",{attrs:{to:{name:"Stream",params:{name:t.channel.broadcaster_login}}}},[t._v(" "+t._s(t.channel.display_name)+" ")])],1)],1)}),c=[],s={props:{channel:{type:Object,required:!0}},data:function(){return{imgShow:!1}}},o=s,u=(n("67ea"),n("2877")),l=Object(u["a"])(o,i,c,!1,null,null,null),h=l.exports,f={components:{SearchChannelCard:h},props:{term:{type:String,required:!0}},data:function(){return{channelList:[],channelID:[],cursor:"",observing:!1,loadingSuccess:!1}},computed:{listNum:function(){return this.channelList.length}},beforeRouteUpdate:function(t,e,n){Object.assign(this.$data,this.$options.data.call(this)),this.getChannels(!0,t.query.term),n()},mounted:function(){this.$store.commit("SEARCH","channels"),this.getChannels(!0,this.term)},methods:{getChannels:function(t,e){var n=this;if(void 0!==this.cursor){t&&this.$store.commit("LOADING");var r="https://api.twitch.tv/helix/search/channels?query=".concat(e,"&first=25&after=").concat(this.cursor);this.$http.get(r,{headers:{Authorization:"Bearer ".concat("v67uqipso6uetl6dz9jnsyr6i8jj1c"),"Client-Id":"3en91i3kd0lb3l377sgqbymlagn9uy"}}).then((function(e){setTimeout((function(){n.cursor=e.data.pagination.cursor;var r=e.data.data.filter((function(t){return!n.channelID.includes(t.id)}));r.forEach((function(t){n.channelID.push(t.id),n.channelList.push(t)})),t&&(n.loadingSuccess=!0,n.$store.commit("LOADING")),n.observing=!0}),500)})).catch((function(e){t&&n.$store.commit("LOADING"),n.$swal(e.response.data.message)}))}},onWaypoint:function(t){var e=t.going;e===this.$waypointMap.GOING_IN&&(this.observing=!1,this.getChannels(!1,this.term))}}},d=f,g=(n("2896"),Object(u["a"])(d,r,a,!1,null,null,null));e["default"]=g.exports},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,n){var r=n("b622"),a=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(r){}}return!1}},b464:function(t,e,n){},b727:function(t,e,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),c=n("50c4"),s=n("65f0"),o=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,h=6==t,f=7==t,d=5==t||h;return function(g,v,m,p){for(var b,y,C=i(g),_=a(C),S=r(v,m,3),$=c(_.length),x=0,E=p||s,w=e?E(g,$):n||f?E(g,0):void 0;$>x;x++)if((d||x in _)&&(b=_[x],y=S(b,x,C),t))if(e)w[x]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:o.call(w,b)}else switch(t){case 4:return!1;case 7:o.call(w,b)}return h?-1:u||l?l:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},c371:function(t,e,n){},caad:function(t,e,n){"use strict";var r=n("23e7"),a=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},ea11:function(t,e,n){}}]);
//# sourceMappingURL=Search.c73bdccd.js.map